<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Autumn Sample</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'JetBrains Mono', monospace;
      font-size: 16px;
    }
    body {
      background-color: #282C34;
    }
  </style>
</head>
<body>
  <pre class="autumn highlight" class="background" style="background-color: #282C34; ">
<code class="language-rust">
<span class="keyword" style="color: #ff79c6; ">mod</span> lang<span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
<span class="keyword" style="color: #ff79c6; ">use</span> tree_sitter_highlight<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="punctuation bracket" style="color: #f8f8f2; ">{</span><span class="constructor" style="color: #BD93F9; ">Highlighter</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="constructor" style="color: #BD93F9; ">HtmlRenderer</span><span class="punctuation bracket" style="color: #f8f8f2; ">}</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

<span class="keyword" style="color: #ff79c6; ">static</span> <span class="constructor" style="color: #BD93F9; ">THEME</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span> = <span class="function macro" style="color: #BD93F9; ">include_str</span><span class="function macro" style="color: #BD93F9; ">!</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="string" style="color: #f1fa8c; ">&quot;../../../priv/generated/themes/dracula.toml&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

<span class="attribute" style="text-decoration: underline; color: #50fa7b; ">#<span class="punctuation bracket" style="color: #f8f8f2; ">[</span>rustler<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>nif<span class="punctuation bracket" style="color: #f8f8f2; ">]</span></span>
<span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">highlight</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">lang</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">source</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">theme</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> -&gt; <span class="type" style="text-decoration: underline; color: #8be9fd; ">String</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
    <span class="function" style="color: #50fa7b; ">do_highlight</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>lang<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> source<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> theme<span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
<span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

<span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">do_highlight</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">lang</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">source</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">_theme</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> -&gt; <span class="type" style="text-decoration: underline; color: #8be9fd; ">String</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
    <span class="keyword" style="color: #ff79c6; ">let</span> <span class="keyword" style="color: #ff79c6; ">mut</span> highlighter = <span class="type" style="text-decoration: underline; color: #8be9fd; ">Highlighter</span><span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">new</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="keyword" style="color: #ff79c6; ">let</span> lang_config = lang<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="type" style="text-decoration: underline; color: #8be9fd; ">Lang</span><span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">config</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>lang<span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="keyword" style="color: #ff79c6; ">let</span> events = highlighter
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">highlight</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>lang_config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> source<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">as_bytes</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="constructor" style="color: #BD93F9; ">None</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> |_| <span class="constructor" style="color: #BD93F9; ">None</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="keyword" style="color: #ff79c6; ">let</span> <span class="keyword" style="color: #ff79c6; ">mut</span> renderer = <span class="type" style="text-decoration: underline; color: #8be9fd; ">HtmlRenderer</span><span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">new</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

    <span class="comment" style="color: #6272A4; ">//</span>
    <span class="comment" style="color: #6272A4; ">// TODO: themes</span>
    <span class="keyword" style="color: #ff79c6; ">let</span> theme_config<span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="type" style="text-decoration: underline; color: #8be9fd; ">Value</span> = toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_str</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span><span class="constructor" style="color: #BD93F9; ">THEME</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

    renderer
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">render</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>events<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> source<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">as_bytes</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="operator" style="color: #ff79c6; ">&amp;</span>|h| <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
            <span class="keyword" style="color: #ff79c6; ">let</span> scope = lang<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="constructor" style="color: #BD93F9; ">HIGHLIGHT_NAMES</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">get</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>h<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="constant builtin" style="color: #BD93F9; ">0</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
            <span class="keyword" style="color: #ff79c6; ">let</span> style = <span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>theme_config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> scope<span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
            style
        <span class="punctuation bracket" style="color: #f8f8f2; ">}</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

    <span class="type" style="text-decoration: underline; color: #8be9fd; ">String</span><span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>std<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>str<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_utf8</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>renderer<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span>html</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
<span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

<span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">&lt;</span><span class="operator" style="color: #ff79c6; ">&#39;</span><span class="label" style="color: #8be9fd; ">v</span><span class="punctuation bracket" style="color: #f8f8f2; ">&gt;</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">theme_config</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="operator" style="color: #ff79c6; ">&#39;</span><span class="label" style="color: #8be9fd; ">v</span> toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="type" style="text-decoration: underline; color: #8be9fd; ">Value</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="variable parameter" style="text-decoration: underline; color: #ffb86c; ">scope</span><span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> -&gt; <span class="operator" style="color: #ff79c6; ">&amp;</span><span class="operator" style="color: #ff79c6; ">&#39;</span><span class="label" style="color: #8be9fd; ">v</span> <span class="punctuation bracket" style="color: #f8f8f2; ">[</span><span class="type builtin" style="color: #8be9fd; ">u8</span><span class="punctuation bracket" style="color: #f8f8f2; ">]</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
    <span class="keyword" style="color: #ff79c6; ">match</span> theme_config<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">get</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>scope<span class="punctuation bracket" style="color: #f8f8f2; ">)</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
        <span class="constructor" style="color: #BD93F9; ">Some</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>value<span class="punctuation bracket" style="color: #f8f8f2; ">)</span> =&gt; value<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">as_str</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">as_bytes</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span>
        <span class="constructor" style="color: #BD93F9; ">None</span> =&gt; <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
            <span class="keyword" style="color: #ff79c6; ">if</span> scope<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">contains</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="string" style="color: #f1fa8c; ">&quot;.&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
                <span class="keyword" style="color: #ff79c6; ">let</span> <span class="keyword" style="color: #ff79c6; ">mut</span> split<span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> <span class="type" style="text-decoration: underline; color: #8be9fd; ">Vec</span><span class="punctuation bracket" style="color: #f8f8f2; ">&lt;</span><span class="operator" style="color: #ff79c6; ">&amp;</span><span class="type builtin" style="color: #8be9fd; ">str</span><span class="punctuation bracket" style="color: #f8f8f2; ">&gt;</span> = scope<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">split</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="string" style="color: #f1fa8c; ">&#39;.&#39;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">collect</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
                split<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">pop</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
                <span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>theme_config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> split<span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">join</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="string" style="color: #f1fa8c; ">&quot;.&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">as_str</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
            <span class="punctuation bracket" style="color: #f8f8f2; ">}</span> <span class="keyword" style="color: #ff79c6; ">else</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
                <span class="string" style="color: #f1fa8c; ">&quot;&quot;</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">as_bytes</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
            <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>
        <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>
    <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>
<span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

<span class="attribute" style="text-decoration: underline; color: #50fa7b; ">#<span class="punctuation bracket" style="color: #f8f8f2; ">[</span>cfg<span class="punctuation bracket" style="color: #f8f8f2; ">(</span>test<span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">]</span></span>
<span class="keyword" style="color: #ff79c6; ">mod</span> tests <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
    <span class="keyword" style="color: #ff79c6; ">use</span> <span class="keyword" style="color: #ff79c6; ">super</span><span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="operator" style="color: #ff79c6; ">*</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

    <span class="attribute" style="text-decoration: underline; color: #50fa7b; ">#<span class="punctuation bracket" style="color: #f8f8f2; ">[</span>test<span class="punctuation bracket" style="color: #f8f8f2; ">]</span></span>
    <span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">test_highlight</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
        <span class="keyword" style="color: #ff79c6; ">let</span> result = <span class="function" style="color: #50fa7b; ">do_highlight</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="string" style="color: #f1fa8c; ">&quot;elixir&quot;</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;@type foo :: :bar&quot;</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;Dracula&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
        <span class="function macro" style="color: #BD93F9; ">assert_eq</span><span class="function macro" style="color: #BD93F9; ">!</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>result<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;&lt;span class=<span>\&quot;</span>attribute<span>\&quot;</span> style=<span>\&quot;</span>text-decoration: underline; color: #50fa7b; <span>\&quot;</span>&gt;@&lt;/span&gt;&lt;span class=<span>\&quot;</span>attribute<span>\&quot;</span> style=<span>\&quot;</span>text-decoration: underline; color: #50fa7b; <span>\&quot;</span>&gt;type&lt;/span&gt; &lt;span class=<span>\&quot;</span>variable<span>\&quot;</span> style=<span>\&quot;</span>color: #f8f8f2; <span>\&quot;</span>&gt;foo&lt;/span&gt; &lt;span class=<span>\&quot;</span>operator<span>\&quot;</span> style=<span>\&quot;</span>color: #ff79c6; <span>\&quot;</span>&gt;::&lt;/span&gt; &lt;span class=<span>\&quot;</span>string special<span>\&quot;</span> style=<span>\&quot;</span>color: #ffb86c; <span>\&quot;</span>&gt;:bar&lt;/span&gt;<span>\n</span>&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

    <span class="attribute" style="text-decoration: underline; color: #50fa7b; ">#<span class="punctuation bracket" style="color: #f8f8f2; ">[</span>test<span class="punctuation bracket" style="color: #f8f8f2; ">]</span></span>
    <span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">test_empty_style_config_if_missing</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
        <span class="keyword" style="color: #ff79c6; ">let</span> config<span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="type" style="text-decoration: underline; color: #8be9fd; ">Value</span> = toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_str</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>
            <span class="string" style="color: #f1fa8c; ">r#&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;string&quot; = &quot;color:blue&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;#</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span>
        <span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

        <span class="keyword" style="color: #ff79c6; ">let</span> result = std<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>str<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_utf8</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;function.special&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
        <span class="function macro" style="color: #BD93F9; ">assert_eq</span><span class="function macro" style="color: #BD93F9; ">!</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>result<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

    <span class="attribute" style="text-decoration: underline; color: #50fa7b; ">#<span class="punctuation bracket" style="color: #f8f8f2; ">[</span>test<span class="punctuation bracket" style="color: #f8f8f2; ">]</span></span>
    <span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">test_match_exact_config_style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
        <span class="keyword" style="color: #ff79c6; ">let</span> config<span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="type" style="text-decoration: underline; color: #8be9fd; ">Value</span> = toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_str</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>
            <span class="string" style="color: #f1fa8c; ">r#&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;string&quot; = &quot;color:blue&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;#</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span>
        <span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

        <span class="keyword" style="color: #ff79c6; ">let</span> result = std<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>str<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_utf8</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;string&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
        <span class="function macro" style="color: #BD93F9; ">assert_eq</span><span class="function macro" style="color: #BD93F9; ">!</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>result<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;color:blue&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

    <span class="attribute" style="text-decoration: underline; color: #50fa7b; ">#<span class="punctuation bracket" style="color: #f8f8f2; ">[</span>test<span class="punctuation bracket" style="color: #f8f8f2; ">]</span></span>
    <span class="keyword" style="color: #ff79c6; ">fn</span> <span class="function" style="color: #50fa7b; ">test_match_prefix_config_style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span> <span class="punctuation bracket" style="color: #f8f8f2; ">{</span>
        <span class="keyword" style="color: #ff79c6; ">let</span> config<span class="punctuation delimiter" style="color: #f8f8f2; ">:</span> toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="type" style="text-decoration: underline; color: #8be9fd; ">Value</span> = toml<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_str</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>
            <span class="string" style="color: #f1fa8c; ">r#&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;string&quot; = &quot;color:string&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;string.special&quot; = &quot;color:special&quot;</span>
<span class="string" style="color: #f1fa8c; ">            &quot;#</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span>
        <span class="punctuation bracket" style="color: #f8f8f2; ">)</span>
        <span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

        <span class="keyword" style="color: #ff79c6; ">let</span> result = std<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>str<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_utf8</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;string.special.symbol&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
        <span class="function macro" style="color: #BD93F9; ">assert_eq</span><span class="function macro" style="color: #BD93F9; ">!</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>result<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;color:special&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>

        <span class="keyword" style="color: #ff79c6; ">let</span> result = std<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>str<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span><span class="function" style="color: #50fa7b; ">from_utf8</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="function" style="color: #50fa7b; ">style</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="operator" style="color: #ff79c6; ">&amp;</span>config<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;string.other&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">.</span><span class="function method" style="color: #50fa7b; ">unwrap</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
        <span class="function macro" style="color: #BD93F9; ">assert_eq</span><span class="function macro" style="color: #BD93F9; ">!</span><span class="punctuation bracket" style="color: #f8f8f2; ">(</span>result<span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="string" style="color: #f1fa8c; ">&quot;color:string&quot;</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
    <span class="punctuation bracket" style="color: #f8f8f2; ">}</span>
<span class="punctuation bracket" style="color: #f8f8f2; ">}</span>

rustler<span class="punctuation delimiter" style="color: #f8f8f2; ">::</span>init!<span class="punctuation bracket" style="color: #f8f8f2; ">(</span><span class="string" style="color: #f1fa8c; ">&quot;Elixir.Autumn.Native&quot;</span><span class="punctuation delimiter" style="color: #f8f8f2; ">,</span> <span class="punctuation bracket" style="color: #f8f8f2; ">[</span>highlight<span class="punctuation bracket" style="color: #f8f8f2; ">]</span><span class="punctuation bracket" style="color: #f8f8f2; ">)</span><span class="punctuation delimiter" style="color: #f8f8f2; ">;</span>
</code></pre>
</body>
</html>
