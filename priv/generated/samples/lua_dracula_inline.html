<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Autumn Sample - lua - dracula (inline)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'JetBrains Mono', monospace;
      line-height: 1.5;
    }
    pre {
      font-size: 15px;
      margin: 20px;
      padding: 50px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <pre class="autumn-hl" style="background-color: #282A36; color: #f8f8f2;"><code class="language-lua" translate="no"><span class="ahl-comment" style="color: #6272A4;">---@class <span class="ahl-type" style="font-style: italic; color: #8be9fd;">Lazy</span>: <span class="ahl-type" style="font-style: italic; color: #8be9fd;">LazyCommands</span>
</span><span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span><span class="ahl-operator" style="color: #f8f8f2;"> =</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-variable" style="color: #f8f8f2;">
M</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_start</span><span class="ahl-operator" style="color: #f8f8f2;"> =</span> 0<span class="ahl-variable" style="color: #f8f8f2;">

vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span><span class="ahl-operator" style="color: #f8f8f2;"> =</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span><span class="ahl-keyword ahl-operator" style="color: #ff79c6;"> or</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loop</span><span class="ahl-keyword" style="color: #ff79c6;">

local</span> <span class="ahl-keyword ahl-function" style="color: #ff79c6;">function</span> <span class="ahl-variable" style="color: #f8f8f2;">profile_require</span>()
  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">done</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span> ---@type table&lt;string, true&gt;<span class="ahl-keyword" style="color: #ff79c6;">
  local</span> <span class="ahl-variable" style="color: #f8f8f2;">r</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">require</span>
  <span class="ahl-variable" style="color: #f8f8f2;">_G</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">require</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-keyword ahl-function" style="color: #ff79c6;">function</span>(<span class="ahl-variable" style="color: #f8f8f2;">modname</span>)
    <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">Util</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">package</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loaded</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.util&quot;</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span>
    <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">Util</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">and</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">not</span> <span class="ahl-variable" style="color: #f8f8f2;">done</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-variable" style="color: #f8f8f2;">modname</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
      <span class="ahl-variable" style="color: #f8f8f2;">done</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-variable" style="color: #f8f8f2;">modname</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> true
      <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">require</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">modname</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span>
      <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">ok</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">ret</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">pcall</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-keyword ahl-function" style="color: #ff79c6;">function</span>()
        <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">F</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">pack_len</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">r</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">modname</span><span class="ahl-function" style="color: #50fa7b;">)</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
      <span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-function" style="color: #50fa7b;">)</span>
      <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>
      <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">not</span> <span class="ahl-variable" style="color: #f8f8f2;">ok</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
        <span class="ahl-variable" style="color: #f8f8f2;">error</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">ret</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> 2<span class="ahl-function" style="color: #50fa7b;">)</span>
      <span class="ahl-keyword" style="color: #ff79c6;">end</span>
      <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">F</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">unpack_len</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">ret</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
    <span class="ahl-keyword" style="color: #ff79c6;">else</span>
      <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">r</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">modname</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
    <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span>
<span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-comment" style="color: #6272A4;">

---@overload fun(opts: LazyConfig)</span><span class="ahl-comment" style="color: #6272A4;">
---@overload fun(spec:LazySpec, opts: LazyConfig)</span><span class="ahl-keyword ahl-function" style="color: #ff79c6;">
function</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span>.<span class="ahl-variable" style="color: #f8f8f2;">setup</span>(<span class="ahl-variable" style="color: #f8f8f2;">spec</span>, <span class="ahl-variable" style="color: #f8f8f2;">opts</span>)
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">type</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">spec</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">==</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;table&quot;</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">and</span> <span class="ahl-variable" style="color: #f8f8f2;">spec</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">spec</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-comment" style="color: #6272A4;">---@cast spec LazyConfig</span>
    <span class="ahl-variable" style="color: #f8f8f2;">opts</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">spec</span>
  <span class="ahl-keyword" style="color: #ff79c6;">else</span>
    <span class="ahl-variable" style="color: #f8f8f2;">opts</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">opts</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">or</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span>
    <span class="ahl-variable" style="color: #f8f8f2;">opts</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">spec</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">spec</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>

  <span class="ahl-variable" style="color: #f8f8f2;">M</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_start</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_start</span> <span class="ahl-operator" style="color: #f8f8f2;">==</span> 0 <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">and</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">hrtime</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">or</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_start</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">g</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">lazy_did_setup</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">notify</span><span class="ahl-function" style="color: #50fa7b;">(</span>
      <span class="ahl-string" style="color: #f1fa8c;">&quot;Re-sourcing your config is not supported with lazy.nvim&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
      <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">log</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">levels</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">WARN</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
      <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">title</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim&quot;</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span>
    <span class="ahl-function" style="color: #50fa7b;">)</span></span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">g</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">lazy_did_setup</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> true
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">not</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">go</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loadplugins</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-keyword" style="color: #ff79c6;">return</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">fn</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">has</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;nvim-0.8.0&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">~=</span> 1 <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">notify</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim requires Neovim &gt;= 0.8.0&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">log</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">levels</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">ERROR</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">title</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim&quot;</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">not</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">(</span><span class="ahl-variable" style="color: #f8f8f2;">pcall</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;ffi&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">and</span> <span class="ahl-variable" style="color: #f8f8f2;">jit</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">and</span> <span class="ahl-variable" style="color: #f8f8f2;">jit</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">version</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">)</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">notify</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim requires Neovim built with LuaJIT&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">log</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">levels</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">ERROR</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">title</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim&quot;</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">start</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">hrtime</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-comment" style="color: #6272A4;">-- use the Neovim cache if available</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loader</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">and</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">fn</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">has</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;nvim-0.9.1&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">==</span> 1 <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-variable" style="color: #f8f8f2;">package</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loaded</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.cache&quot;</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loader</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>

  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">Cache</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.cache&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">enable_cache</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">tbl_get</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">opts</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;performance&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;cache&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;enabled&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">~=</span> false
  <span class="ahl-comment" style="color: #6272A4;">-- load module cache before anything else</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">enable_cache</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-variable" style="color: #f8f8f2;">Cache</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">enable</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>

  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">tbl_get</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">opts</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;profiling&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;require&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-variable" style="color: #f8f8f2;">profile_require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>

  <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.stats&quot;</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;LazyStart&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">Util</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.util&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">Config</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.config&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">Loader</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.loader&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-variable" style="color: #f8f8f2;">table</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">insert</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">package</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loaders</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> 3<span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">Loader</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loader</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">tbl_get</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">opts</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;profiling&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;loader&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loader</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
      <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loader</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_profile</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">loaders</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> true <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span>
    <span class="ahl-keyword" style="color: #ff79c6;">else</span>
      <span class="ahl-variable" style="color: #f8f8f2;">Cache</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_profile_loaders</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>
    <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>

  <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">plugin</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim&quot;</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-comment" style="color: #6272A4;">-- setup start</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;module&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">hrtime</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">-</span> <span class="ahl-variable" style="color: #f8f8f2;">start</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-comment" style="color: #6272A4;">-- load config</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;config&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Config</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">setup</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">opts</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-comment" style="color: #6272A4;">-- setup loader and handlers</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Loader</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">setup</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-comment" style="color: #6272A4;">-- correct time delta and loaded</span>
  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">delta</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">hrtime</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">-</span> <span class="ahl-variable" style="color: #f8f8f2;">start</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Util</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">time</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">delta</span> <span class="ahl-comment" style="color: #6272A4;">-- end setup</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-variable" style="color: #f8f8f2;">Config</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">plugins</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim&quot;</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-variable" style="color: #f8f8f2;">Config</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">plugins</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.nvim&quot;</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">_</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loaded</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">time</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">delta</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">source</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;init.lua&quot;</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>

  <span class="ahl-comment" style="color: #6272A4;">-- load plugins with lazy=false or Plugin.init</span>
  <span class="ahl-variable" style="color: #f8f8f2;">Loader</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">startup</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span>

  <span class="ahl-comment" style="color: #6272A4;">-- all done!</span>
  <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">api</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">nvim_exec_autocmds</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;User&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span> <span class="ahl-variable" style="color: #f8f8f2;">pattern</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;LazyDone&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-variable" style="color: #f8f8f2;">modeline</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> false <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.stats&quot;</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">track</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;LazyDone&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span>
<span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-keyword ahl-function" style="color: #ff79c6;">

function</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span>.<span class="ahl-variable" style="color: #f8f8f2;">stats</span>()
  <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.stats&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">stats</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
<span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-keyword ahl-function" style="color: #ff79c6;">

function</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span>.<span class="ahl-variable" style="color: #f8f8f2;">bootstrap</span>()
  <span class="ahl-keyword" style="color: #ff79c6;">local</span> <span class="ahl-variable" style="color: #f8f8f2;">lazypath</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">fn</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">stdpath</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;data&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-operator" style="color: #f8f8f2;">..</span> <span class="ahl-string" style="color: #f1fa8c;">&quot;&#x2f;lazy&#x2f;lazy.nvim&quot;</span>
  <span class="ahl-keyword" style="color: #ff79c6;">if</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">not</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">(</span><span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">uv</span> <span class="ahl-keyword ahl-operator" style="color: #ff79c6;">or</span> <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">loop</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">fs_stat</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">lazypath</span><span class="ahl-function" style="color: #50fa7b;">)</span> <span class="ahl-keyword" style="color: #ff79c6;">then</span>
    <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">fn</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">system</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span>
      <span class="ahl-string" style="color: #f1fa8c;">&quot;git&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
      <span class="ahl-string" style="color: #f1fa8c;">&quot;clone&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
      <span class="ahl-string" style="color: #f1fa8c;">&quot;--filter=blob:none&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
      <span class="ahl-string" style="color: #f1fa8c;">&quot;https:&#x2f;&#x2f;github.com&#x2f;folke&#x2f;lazy.nvim.git&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
      <span class="ahl-string" style="color: #f1fa8c;">&quot;--branch=stable&quot;</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-comment" style="color: #6272A4;">-- latest stable release</span>
      <span class="ahl-variable" style="color: #f8f8f2;">lazypath</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
    <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span>
  <span class="ahl-keyword" style="color: #ff79c6;">end</span>
  <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">opt</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">rtp</span>:<span class="ahl-variable" style="color: #f8f8f2;">prepend</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">lazypath</span><span class="ahl-function" style="color: #50fa7b;">)</span>
<span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-comment" style="color: #6272A4;">

---@return <span class="ahl-type" style="font-style: italic; color: #8be9fd;"><span class="ahl-type" style="font-style: italic; color: #8be9fd;">LazyPlugin</span>[]</span></span><span class="ahl-keyword ahl-function" style="color: #ff79c6;">
function</span> <span class="ahl-variable" style="color: #f8f8f2;">M</span>.<span class="ahl-variable" style="color: #f8f8f2;">plugins</span>()
  <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">vim</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">tbl_values</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.core.config&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">plugins</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
<span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-variable" style="color: #f8f8f2;">

setmetatable</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-variable" style="color: #f8f8f2;">M</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span> <span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">{</span>
  <span class="ahl-variable" style="color: #f8f8f2;">__index</span> <span class="ahl-operator" style="color: #f8f8f2;">=</span> <span class="ahl-keyword ahl-function" style="color: #ff79c6;">function</span>(<span class="ahl-variable" style="color: #f8f8f2;">_</span>, <span class="ahl-variable" style="color: #f8f8f2;">key</span>)
    <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-keyword ahl-function" style="color: #ff79c6;">function</span>(<span class="ahl-constant" style="color: #BD93F9;">...</span>)
      <span class="ahl-keyword" style="color: #ff79c6;">return <span class="ahl-variable" style="color: #f8f8f2;">require</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-string" style="color: #f1fa8c;">&quot;lazy.view.commands&quot;</span><span class="ahl-function" style="color: #50fa7b;">)</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">.</span><span class="ahl-variable" style="color: #f8f8f2;">commands</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">[</span><span class="ahl-variable" style="color: #f8f8f2;">key</span><span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">]</span><span class="ahl-function" style="color: #50fa7b;">(</span><span class="ahl-constant" style="color: #BD93F9;">...</span><span class="ahl-function" style="color: #50fa7b;">)</span></span>
    <span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span></span>
  <span class="ahl-keyword ahl-function" style="color: #ff79c6;">end</span><span class="ahl-punctuation ahl-delimiter" style="color: #f8f8f2;">,</span>
<span class="ahl-punctuation ahl-bracket" style="color: #f8f8f2;">}</span><span class="ahl-function" style="color: #50fa7b;">)</span><span class="ahl-keyword" style="color: #ff79c6;">

return <span class="ahl-variable" style="color: #f8f8f2;">M</span></span>
</code></pre>
</body>
</html>
